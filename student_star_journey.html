<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ·±ç©ºç»¿æ´²ï¼šå­¦ç”Ÿæ˜Ÿé™…æ—…ç¨‹ (User Journey Map)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Noto+Sans+SC:wght@300;400;700&display=swap');

        body {
            margin: 0;
            padding: 0;
            background-color: #050b14;
            color: #fff;
            font-family: 'Noto Sans SC', sans-serif;
            overflow: hidden;
        }

        #canvas-container {
            position: relative;
            width: 100vw;
            height: 100vh;
            background: radial-gradient(circle at center, #0b1a2f 0%, #050b14 100%);
        }

        canvas {
            display: block;
        }

        /* æ‚¬æµ®é¢æ¿æ ·å¼ */
        .info-panel {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 500px;
            background: rgba(12, 22, 45, 0.95);
            border: 1px solid #4fd1c5;
            box-shadow: 0 0 20px rgba(79, 209, 197, 0.3);
            border-radius: 12px;
            padding: 24px;
            backdrop-filter: blur(10px);
            display: none;
            z-index: 10;
            animation: fadeIn 0.3s ease-out;
        }

        .info-panel.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translate(-50%, -45%); }
            to { opacity: 1; transform: translate(-50%, -50%); }
        }

        .panel-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid rgba(79, 209, 197, 0.3);
            padding-bottom: 12px;
            margin-bottom: 16px;
        }

        .panel-title {
            font-family: 'Orbitron', sans-serif;
            font-size: 1.5rem;
            color: #4fd1c5;
            text-shadow: 0 0 8px rgba(79, 209, 197, 0.6);
        }

        .close-btn {
            background: none;
            border: none;
            color: #a0aec0;
            font-size: 1.5rem;
            cursor: pointer;
            transition: color 0.2s;
        }

        .close-btn:hover {
            color: #fff;
        }

        .section-title {
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            color: #a0aec0;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .section-content {
            margin-bottom: 20px;
            line-height: 1.6;
        }

        .tech-tag {
            display: inline-block;
            background: rgba(79, 209, 197, 0.15);
            color: #4fd1c5;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.85rem;
            margin-right: 6px;
            margin-bottom: 6px;
            border: 1px solid rgba(79, 209, 197, 0.3);
        }

        .activity-text {
            color: #e2e8f0;
        }

        .ui-overlay {
            position: absolute;
            top: 20px;
            left: 20px;
            pointer-events: none;
        }
        
        .ui-title {
            font-family: 'Orbitron', sans-serif;
            font-size: 2rem;
            color: white;
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
        }
        
        .ui-subtitle {
            color: #4fd1c5;
            font-size: 1rem;
            margin-top: 5px;
        }

        .instruction {
            position: absolute;
            bottom: 30px;
            width: 100%;
            text-align: center;
            color: #718096;
            font-size: 0.9rem;
            pointer-events: none;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { opacity: 0.6; }
            50% { opacity: 1; }
            100% { opacity: 0.6; }
        }

    </style>
</head>
<body>

<div id="canvas-container">
    <div class="ui-overlay">
        <h1 class="ui-title">DEEP SPACE OASIS</h1>
        <div class="ui-subtitle">æ¿å—ä¸€ï¼šå­¦ç”Ÿæ˜Ÿé™…æ—…ç¨‹ (Student Journey Map)</div>
    </div>
    
    <canvas id="journeyCanvas"></canvas>
    
    <div class="instruction">ç‚¹å‡»èŠ‚ç‚¹æŸ¥çœ‹ä»»åŠ¡è¯¦æƒ…ä¸ AI æ¶æ„æ”¯æŒ</div>

    <!-- è¯¦æƒ…é¢æ¿ -->
    <div id="infoPanel" class="info-panel">
        <div class="panel-header">
            <h2 class="panel-title" id="panelTitle">PHASE 1</h2>
            <button class="close-btn" onclick="closePanel()">Ã—</button>
        </div>
        
        <div>
            <div class="section-title">
                <span>ğŸš€</span> æ ¸å¿ƒæ•™å­¦ä»»åŠ¡ (Student Mission)
            </div>
            <div class="section-content activity-text" id="missionContent">
                Loading...
            </div>
        </div>

        <div>
            <div class="section-title">
                <span>ğŸ¤–</span> AI æ¶æ„ä¸æŠ€æœ¯æ”¯æŒ (Tech Stack)
            </div>
            <div class="section-content" id="techContent">
                Loading...
            </div>
        </div>
    </div>
</div>

<script>
    const canvas = document.getElementById('journeyCanvas');
    const ctx = canvas.getContext('2d');
    const panel = document.getElementById('infoPanel');
    
    // æ•°æ®æºï¼šåŸºäºä¸Šä¼ çš„ã€ŠAIéœ€æ±‚è¡¨.docxã€‹
    const phases = [
        {
            id: 1,
            title: "Phase 1: å¯åŠ¨ä¸ç»„é˜Ÿ",
            xPercent: 0.15,
            yPercent: 0.6,
            color: "#4299e1", // Blue
            mission: "å®ŒæˆèŒä¸šæµ‹è¯„ï¼Œç»„å»ºæ¢é™©å°é˜Ÿï¼Œç¡®ç«‹å›¢é˜Ÿå¥‘çº¦ä¸è§„åˆ™ã€‚ç§¯ç´¯åˆå§‹æ˜Ÿç©ºå¸ã€‚",
            tech: [
                "AI HR Agent (å­¦æƒ…ç”»åƒ)",
                "ClassIn API (é—®å·æ•°æ®)",
                "LangGraph (å­¦ç”Ÿæ¡£æ¡ˆåˆå§‹åŒ–)"
            ]
        },
        {
            id: 2,
            title: "Phase 2: è§„åˆ’ä¸æ¢ç´¢",
            xPercent: 0.32,
            yPercent: 0.4,
            color: "#9f7aea", // Purple
            mission: "åˆ©ç”¨å¤©æ–‡è½¯ä»¶æ”¶é›†æ˜Ÿçƒæ•°æ®ï¼Œç ”ç©¶ç§»å±…å†å²ï¼Œè¯„ä¼°å®œå±…æ€§å¹¶é€‰å®šç›®æ ‡ã€‚",
            tech: [
                "AI Researcher (ç ”ç©¶åŠ©æ‰‹)",
                "GraphRAG (é˜²å¹»è§‰çŸ¥è¯†åº“)",
                "Solar System Scope (æ•°æ®æº)",
                "è…¾è®¯æ–‡æ¡£ (åä½œè®°å½•)"
            ]
        },
        {
            id: 3,
            title: "Phase 3: è®¾è®¡ä¸å»ºè®¾",
            xPercent: 0.5,
            yPercent: 0.6,
            color: "#ed8936", // Orange
            mission: "è®¾è®¡åŸºåœ°è“å›¾ï¼ˆæ°”é—¸èˆ±ã€èƒ½æºç³»ç»Ÿï¼‰ï¼Œè§„åˆ’ç‰©èµ„æ¸…å•ï¼Œè¿›è¡Œ3D/ARå»ºæ¨¡ã€‚",
            tech: [
                "AI Engineer (è®¾è®¡é¡¾é—®)",
                "Vision Model (å›¾çº¸å®¡æ ¸)",
                "ARé­”æ–¹/Miro (å»ºæ¨¡å·¥å…·)",
                "MCP (å·¥å…·è¿æ¥åè®®)"
            ]
        },
        {
            id: 4,
            title: "Phase 4: è¿è¥ä¸å†³ç­–",
            xPercent: 0.68,
            yPercent: 0.4,
            color: "#f56565", // Red
            mission: "åº”å¯¹â€œå¤ªé˜³è€€æ–‘â€ç­‰çªå‘å±æœºï¼Œåˆ¶å®šèµ„æºåˆ†é…ç­–ç•¥ï¼Œç»´æŒåŸºåœ°ç”Ÿå­˜æ•°å€¼ã€‚",
            tech: [
                "AI Game Master (è¿è¥GM)",
                "LangGraph State (æ•°å€¼çŠ¶æ€æœº)",
                "Simulation Engine (åæœæ¨æ¼”)"
            ]
        },
        {
            id: 5,
            title: "Phase 5: æ€»ç»“ä¸è¯„ä»·",
            xPercent: 0.85,
            yPercent: 0.6,
            color: "#48bb78", // Green
            mission: "å…¨çƒå³°ä¼šæ±‡æŠ¥æˆæœï¼Œè¿›è¡Œè‡ªè¯„ã€äº’è¯„ä¸AIè¾…åŠ©è¯„ä»·ï¼Œç”Ÿæˆæˆé•¿æŠ¥å‘Šã€‚",
            tech: [
                "AI Judge (è¯„å®¡å®˜)",
                "Citation Agent (è¯æ®æ ¸éªŒ)",
                "LLM-as-a-Judge (è‡ªåŠ¨æ‰“åˆ†)"
            ]
        }
    ];

    let particles = [];
    let width, height;
    let hoveredNode = null;
    let activeNode = null;

    // åˆå§‹åŒ–ç”»å¸ƒå°ºå¯¸
    function resize() {
        width = window.innerWidth;
        height = window.innerHeight;
        canvas.width = width;
        canvas.height = height;
        initParticles();
    }
    
    window.addEventListener('resize', resize);

    // æ˜Ÿç©ºèƒŒæ™¯ç²’å­
    function initParticles() {
        particles = [];
        for (let i = 0; i < 150; i++) {
            particles.push({
                x: Math.random() * width,
                y: Math.random() * height,
                size: Math.random() * 2,
                speedX: (Math.random() - 0.5) * 0.2,
                speedY: (Math.random() - 0.5) * 0.2,
                alpha: Math.random()
            });
        }
    }

    // ç»˜åˆ¶é€»è¾‘
    function draw() {
        ctx.fillStyle = "#050b14";
        ctx.fillRect(0, 0, width, height);

        // 1. ç»˜åˆ¶æ˜Ÿç©º
        ctx.fillStyle = "#ffffff";
        particles.forEach(p => {
            ctx.globalAlpha = p.alpha;
            ctx.beginPath();
            ctx.arc(p.x, p.y, p.size, 0, Math.PI * 2);
            ctx.fill();
            p.x += p.speedX;
            p.y += p.speedY;
            if (p.x < 0) p.x = width;
            if (p.x > width) p.x = 0;
            if (p.y < 0) p.y = height;
            if (p.y > height) p.y = 0;
        });
        ctx.globalAlpha = 1;

        // 2. ç»˜åˆ¶è¿æ¥è½¨é“ (è´å¡å°”æ›²çº¿)
        if (phases.length > 1) {
            ctx.beginPath();
            ctx.moveTo(phases[0].xPercent * width, phases[0].yPercent * height);
            
            for (let i = 0; i < phases.length - 1; i++) {
                const p1 = phases[i];
                const p2 = phases[i + 1];
                
                const midX = (p1.xPercent + p2.xPercent) / 2 * width;
                const cp1x = midX;
                const cp1y = p1.yPercent * height;
                const cp2x = midX;
                const cp2y = p2.yPercent * height;

                ctx.bezierCurveTo(
                    cp1x, cp1y, 
                    cp2x, cp2y, 
                    p2.xPercent * width, p2.yPercent * height
                );
            }
            
            ctx.strokeStyle = "rgba(79, 209, 197, 0.3)";
            ctx.lineWidth = 4;
            ctx.stroke();
            
            // è½¨é“å…‰æ™•
            ctx.shadowBlur = 15;
            ctx.shadowColor = "rgba(79, 209, 197, 0.6)";
            ctx.stroke();
            ctx.shadowBlur = 0;
        }

        // 3. ç»˜åˆ¶èŠ‚ç‚¹
        phases.forEach(phase => {
            const x = phase.xPercent * width;
            const y = phase.yPercent * height;
            const isHovered = hoveredNode === phase;
            const isActive = activeNode === phase;
            const size = (isHovered || isActive) ? 25 : 18;

            // å¤–å‘å…‰ç¯
            if (isHovered || isActive) {
                ctx.beginPath();
                ctx.arc(x, y, size + 15, 0, Math.PI * 2);
                ctx.fillStyle = phase.color;
                ctx.globalAlpha = 0.2;
                ctx.fill();
                ctx.globalAlpha = 1;
            }

            // æ ¸å¿ƒèŠ‚ç‚¹
            ctx.beginPath();
            ctx.arc(x, y, size, 0, Math.PI * 2);
            ctx.fillStyle = isActive ? "#fff" : "#0f172a";
            ctx.fill();
            
            ctx.lineWidth = 3;
            ctx.strokeStyle = phase.color;
            ctx.stroke();

            // å†…èŠ¯
            ctx.beginPath();
            ctx.arc(x, y, size / 3, 0, Math.PI * 2);
            ctx.fillStyle = phase.color;
            ctx.fill();

            // æ–‡å­—æ ‡ç­¾
            ctx.font = `bold ${isActive ? '16px' : '14px'} 'Orbitron', sans-serif`;
            ctx.fillStyle = isActive ? "#fff" : "#a0aec0";
            ctx.textAlign = "center";
            ctx.textBaseline = "middle";
            ctx.fillText(phase.title.split(":")[0], x, y + size + 25);
            
            // ä¸­æ–‡å‰¯æ ‡é¢˜
            ctx.font = "12px 'Noto Sans SC'";
            ctx.fillStyle = "#718096";
            ctx.fillText(phase.title.split(":")[1], x, y + size + 45);
        });

        requestAnimationFrame(draw);
    }

    // äº¤äº’é€»è¾‘
    function getMousePos(evt) {
        const rect = canvas.getBoundingClientRect();
        return {
            x: evt.clientX - rect.left,
            y: evt.clientY - rect.top
        };
    }

    canvas.addEventListener('mousemove', (e) => {
        const pos = getMousePos(e);
        let found = null;
        
        phases.forEach(phase => {
            const x = phase.xPercent * width;
            const y = phase.yPercent * height;
            const dx = pos.x - x;
            const dy = pos.y - y;
            if (dx * dx + dy * dy < 1600) { // 40px radius click area
                found = phase;
            }
        });

        hoveredNode = found;
        canvas.style.cursor = found ? 'pointer' : 'default';
    });

    canvas.addEventListener('click', (e) => {
        if (hoveredNode) {
            openPanel(hoveredNode);
        }
    });

    function openPanel(phase) {
        activeNode = phase;
        document.getElementById('panelTitle').innerText = phase.title;
        document.getElementById('panelTitle').style.color = phase.color;
        
        document.getElementById('missionContent').innerText = phase.mission;
        
        const techContainer = document.getElementById('techContent');
        techContainer.innerHTML = '';
        phase.tech.forEach(t => {
            const tag = document.createElement('span');
            tag.className = 'tech-tag';
            tag.innerText = t;
            techContainer.appendChild(tag);
        });

        panel.classList.add('active');
    }

    function closePanel() {
        panel.classList.remove('active');
        activeNode = null;
    }

    // å¯åŠ¨
    resize();
    requestAnimationFrame(draw);

</script>

</body>
</html>